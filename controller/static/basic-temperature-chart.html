<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Basic Temperature Chart</title>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript">

$(document).ready(function() {

    $.ajax({
        url: '/basic-temperature-chart-data',
        success: function(json) {

            var chartData = JSON.parse(json);

            var seriesData = [];
                for (var i = 0; i < chartData.length; i++)
                {
                    var x = chartData[i].Date;
                    var y = chartData[i].Value;
                    seriesData.push([x, y]);
                }

            var chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    zoomType: 'x',
                    defaultSeriesType: 'spline'
                },
                title : {
                    text: 'Fermentation Vessel Temperature'
                },
                xAxis: {
                    title: {
                        text: 'Time'
                    },
                    type: 'datetime'
                },
                yAxis: {
                    title: {
                        text: 'Temperature'
                    },
                    plotBands: [{
                        from: 18,
                        to: 20.0,
                        color: 'rgba(68, 170, 213, 0.1)',
                        label: {
                            text: 'Target Range',
                            style: {
                                color: '#606060'
                            }
                        }
                    },{
                        from: 18.75,
                        to: 19.75,
                        color: 'rgba(68, 170, 213, 0.1)',
                        label: {
                            text: 'Heater Trigger',
                            style: {
                                color: '#303060'
                            }
                        }
                    }
                ]
                },
                plotOptions: {
                    spline: {
                        marker: {
                            radius: 0
                        }
                    }
                },
                series: [{
                    name: 'Sensor #1',
                    data: seriesData
                }]
            });

        },
        cache: false
    });

});

        </script>
    </head>

<body>
<script src="../../js/highcharts.js"></script>
<script src="../../js/modules/exporting.js"></script>

<div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>

	</body>
</html>
